(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,a){e.exports={form:"Checkout_form__26gr1",control:"Checkout_control__2qGfb",actions:"Checkout_actions__2X_6_",submit:"Checkout_submit__2BFZZ",invalid:"Checkout_invalid__2gAN9",send:"Checkout_send__Bnl0r"}},function(e,t,a){e.exports={"cart-items":"Cart_cart-items__2pjQw",total:"Cart_total__3pLin",actions:"Cart_actions__1GOmr","button--alt":"Cart_button--alt__1Z2QQ",button:"Cart_button__fw1-t"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__1B1_q",summary:"CartItem_summary__3FMDj",price:"CartItem_price__2Nl0j",amount:"CartItem_amount__jUKEC",actions:"CartItem_actions__UwVPJ"}},,function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX"}},function(e,t,a){e.exports={footer:"Footer_footer__1Zc6l",text:"Footer_text__1Cg1i"}},,function(e,t,a){e.exports={header:"Header_header__zSTUo","main-image":"Header_main-image__2Q3So"}},function(e,t,a){e.exports={summary:"MealsSummary_summary__22zUX",button:"MealsSummary_button__1NLcZ"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(5),s=a.n(n),c=(a(15),a(1)),o=a.n(c),i=a.p+"static/media/meals.a2854522.jpg",r=a(9),l=a.n(r),d=a(0);var m=e=>Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("header",{className:l.a.header,children:Object(d.jsxs)("h1",{children:[Object(d.jsx)("ion-icon",{name:"rose-outline"})," Rous"]})}),Object(d.jsx)("div",{className:l.a["main-image"],children:Object(d.jsx)("img",{src:i,alt:"A table of delicius food"})})]}),j=a(10),u=a.n(j);var b=()=>Object(d.jsxs)("section",{className:u.a.summary,children:[Object(d.jsx)("h1",{children:"Deliciosos frutos secos"}),Object(d.jsx)("p",{children:"Las frutas secas se destacan por sus beneficios para el coraz\xf3n y sus propiedades antioxidantes. Reducen los niveles de colesterol malo (LDL) y aumenta el bueno (HDL). Aportan prote\xednas, vitaminas B y E y minerales como hierro, calcio, magnesio, potasio y f\xf3sforo."}),Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1kwL3YaZNy31Mmi8tn5KXeuiJLKUadUjM5DfkDL6McVU/edit?usp=sharing",className:u.a.button,children:"\xa1LISTA DE PRECIOS AQU\xcd!"})})]});var h=()=>Object(d.jsx)(c.Fragment,{children:Object(d.jsx)(b,{})}),x=a(3),p=a.n(x),O=a(6),_=a.n(O);const f=e=>Object(d.jsx)("div",{className:_.a.backdrop,onClick:e.onClose}),v=e=>Object(d.jsx)("div",{className:_.a.modal,children:Object(d.jsx)("div",{className:_.a.content,children:e.children})}),C=document.getElementById("overlays");var y=e=>Object(d.jsxs)(c.Fragment,{children:[s.a.createPortal(Object(d.jsx)(f,{onClose:e.onClose}),C),s.a.createPortal(Object(d.jsx)(v,{children:e.children}),C)]});var N=o.a.createContext({items:[],totalAmount:0,addItem:e=>{},removeItem:e=>{},clearCart:()=>{}}),g=a(4),A=a.n(g);var k=e=>{const t=`$${e.price.toFixed(2)}`;return Object(d.jsxs)("li",{className:A.a["cart-item"],children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:e.name}),Object(d.jsxs)("div",{className:A.a.summary,children:[Object(d.jsx)("span",{className:A.a.price,children:t}),Object(d.jsxs)("span",{className:A.a.amount,children:["x ",e.amount]})]})]}),Object(d.jsxs)("div",{className:A.a.actions,children:[Object(d.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(d.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},I=a(2),D=a.n(I);const F=e=>""===e.trim(),S=e=>e.trim().length>5;var E=e=>{const[t,a]=Object(c.useState)({name:!0,street:!0,city:!0,postalCode:!0}),n=Object(c.useRef)(),s=Object(c.useRef)(),o=Object(c.useRef)(),i=Object(c.useRef)(),r=`${D.a.control} ${t.name?"":D.a.invalid}`,l=`${D.a.control} ${t.street?"":D.a.invalid}`,m=`${D.a.control} ${t.city?"":D.a.invalid}`,j=`${D.a.control} ${t.postalCode?"":D.a.invalid}`;return Object(d.jsxs)("form",{className:D.a.form,onSubmit:t=>{t.preventDefault();const c=n.current.value,r=s.current.value,l=o.current.value,d=i.current.value,m=!F(c),j=!F(r),u=S(l),b=!F(d);a({name:m,street:j,city:b,postalCode:u});b&&u&&j&&m&&e.onConfirm({name:c,street:r,city:d,postalCode:l})},children:[Object(d.jsxs)("div",{className:r,children:[Object(d.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(d.jsx)("input",{type:"text",id:"name",ref:n}),!t.name&&Object(d.jsx)("p",{children:"Please enter a valid name!"})]}),Object(d.jsxs)("div",{className:l,children:[Object(d.jsx)("label",{htmlFor:"street",children:"Direcci\xf3n"}),Object(d.jsx)("input",{type:"text",id:"street",ref:s}),!t.street&&Object(d.jsx)("p",{children:"Please enter a valid street!"})]}),Object(d.jsxs)("div",{className:j,children:[Object(d.jsx)("label",{htmlFor:"postal",children:"Tel\xe9fono"}),Object(d.jsx)("input",{type:"text",id:"postal",ref:o}),!t.postalCode&&Object(d.jsx)("p",{children:"Please enter a valid phone!"})]}),Object(d.jsxs)("div",{className:m,children:[Object(d.jsx)("label",{htmlFor:"city",children:"Ciudad"}),Object(d.jsx)("input",{type:"text",id:"city",ref:i}),!t.city&&Object(d.jsx)("p",{children:"Please enter a valid city!"})]}),Object(d.jsxs)("div",{className:D.a.actions,children:[Object(d.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(d.jsx)("button",{type:"button",className:D.a.send,onClick:t=>{t.preventDefault();const c=n.current.value,r=s.current.value,l=o.current.value,d=i.current.value,m=!F(c),j=!F(r),u=S(l),b=!F(d);a({name:m,street:j,city:b,postalCode:u});b&&u&&j&&m&&e.onSend({name:c,street:r,city:d,postalCode:l})},children:"Whatsapp"})]})]})};var w=e=>{const[t,a]=Object(c.useState)(!1),[n,s]=Object(c.useState)(!1),[i,r]=Object(c.useState)(!1),l=Object(c.useContext)(N),m=`$${l.totalAmount.toFixed(2)}`,j=e=>{l.removeItem(e)},u=e=>{"xunidad"===e.unidad?l.addItem({...e,amount:1}):l.addItem({...e,amount:100})},b=Object(d.jsx)("ul",{className:p.a["cart-items"],children:l.items.map((e=>Object(d.jsx)(k,{name:e.name,amount:e.amount,price:e.price,onRemove:j.bind(null,e.id),onAdd:u.bind(null,e)},e.id)))}),h=l.items.length>0,x=Object(d.jsxs)("div",{className:p.a.actions,children:[Object(d.jsx)("button",{className:p.a["button-alt"],onClick:e.onClose,children:"Volver"}),h&&Object(d.jsx)("button",{className:p.a.button,onClick:e=>{a(!0)},children:"Enviar"})]}),O=Object(d.jsxs)(o.a.Fragment,{children:[b,Object(d.jsxs)("div",{className:p.a.total,children:[Object(d.jsx)("span",{children:"Total:"}),Object(d.jsx)("span",{children:m})]}),Object(d.jsx)("a",{id:"hiddenButton",target:"_blank",href:"/",alt:"whatsapp",children:" "}),t&&Object(d.jsx)(E,{onConfirm:async e=>{r(!0),await fetch("https://meals-ba5e0-default-rtdb.firebaseio.com/orders.json",{method:"POST",body:JSON.stringify({user:e,orderedItems:l.items})}),r(!1),s(!0),l.clearCart()},onSend:e=>{let t="https://api.whatsapp.com/send?phone=541136283520&text="+((e,t)=>{let a="Nombre: "+e.name+" %0ADireccion: "+e.street+" %0ABarrio: "+e.city+" %0ATelefono: "+e.postalCode+" %0APedido:%0A";return t.forEach((e=>{a+=e.name+" "+e.amount+"grs  %0A"})),a+="%0A Total: $ "+l.totalAmount,a})(e,l.items),a=document.getElementById("hiddenButton");a.setAttribute("href",t),console.log(a.getAttribute("href")),a.click(),s(!0),l.clearCart()},onCancel:e.onClose}),!t&&x]}),_=Object(d.jsx)("p",{children:"Enviando orden..."}),f=Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("p",{children:"La orden se envio con exito!! ..."}),Object(d.jsx)("div",{className:p.a.actions,children:Object(d.jsx)("button",{className:p.a.button,onClick:e.onClose,children:"Cerrar"})})]});return Object(d.jsxs)(y,{onClose:e.onClose,children:[!i&&!n&&O,i&&_,!i&&n&&f]})};const R={items:[],totalAmount:0},$=(e,t)=>{if("ADD"===t.type){let a;console.log(t.item.unidad),a="xunidad"===t.item.unidad?e.totalAmount+t.item.price*t.item.amount:e.totalAmount+t.item.price/1e3*t.item.amount;const n=e.items.findIndex((e=>e.id===t.item.id)),s=e.items[n];let c;if(s){const a={...s,amount:s.amount+t.item.amount};c=[...e.items],c[n]=a}else c=e.items.concat(t.item);return{items:c,totalAmount:a}}if("REMOVE"===t.type){const a=e.items.findIndex((e=>e.id===t.id)),n=e.items[a];let s,c;if(s="xunidad"===n.unidad?e.totalAmount-n.price:e.totalAmount-n.price/1e3*100,"xunidad"===n.unidad)if(1===n.amount)c=e.items.filter((e=>e.id!==t.id));else{const t={...n,amount:n.amount-1};c=[...e.items],c[a]=t}else if(100===n.amount)c=e.items.filter((e=>e.id!==t.id));else{const t={...n,amount:n.amount-100};c=[...e.items],c[a]=t}return{items:c,totalAmount:s}}return t.type,R};var L=e=>{const[t,a]=Object(c.useReducer)($,R),n={items:t.items,totalAmount:t.totalAmount,addItem:e=>{a({type:"ADD",item:e})},removeItem:e=>{a({type:"REMOVE",id:e})},clearCart:()=>{a({type:"CLEAR"})}};return Object(d.jsx)(N.Provider,{value:n,children:e.children})},M=a(7),P=a.n(M);var B=()=>Object(d.jsx)(o.a.Fragment,{children:Object(d.jsxs)("footer",{className:P.a.footer,children:[Object(d.jsxs)("p",{className:P.a.text,children:[Object(d.jsx)("ion-icon",{name:"logo-whatsapp"})," 1136283520"]}),Object(d.jsx)("p",{className:P.a.text,children:Object(d.jsxs)("a",{href:"https://maximiliano-rodriguez.com",target:"_blank",rel:"noreferrer",children:[Object(d.jsx)("ion-icon",{name:"code-slash-outline"}),"Desarrollado por"]})})]})});var U=function(){const[e,t]=Object(c.useState)(!1);return Object(d.jsxs)(L,{children:[e&&Object(d.jsx)(w,{onClose:()=>{t(!1)}}),Object(d.jsx)(m,{onShowCart:()=>{t(!0)}}),Object(d.jsx)("main",{children:Object(d.jsx)(h,{})}),Object(d.jsx)(B,{})]})};s.a.render(Object(d.jsx)(U,{}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.7b7fa5dd.chunk.js.map